:root{
  --bg:#f8fafc; --card:#ffffff; --muted:#6b7280; --accent:#2563eb;
  --shadow: 0 6px 20px rgba(15,23,42,0.04); --border:#eef2f7; --text:#0b1220;
  --radius:12px; --container-width:1400px; --gap:18px;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
  color-scheme: light;
}

/* reset + scrolling fix */
* { box-sizing: border-box; }
html, body { min-height:100%; height:auto; margin:0; padding:0; background:var(--bg); color:var(--text); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow:auto; }
body { margin-top: 0; padding-top: 0; }

/* layout container */
.container { width:100%; max-width:var(--container-width); margin:0 auto; padding:28px; }

/* topbar */
.topbar { border-bottom:1px solid rgba(15,23,42,0.03); background:transparent; padding:24px 0 0 0; }
.topbar .container { display:flex; justify-content:space-between; align-items:flex-start; gap:24px; }
.topbar h1 { margin:0 0 6px 0; font-size:28px; line-height:1; font-weight:800; color:var(--text); }
.topbar .subtitle { margin:0; color:var(--muted); font-size:14px; }

/* simple scope-card */
.scope-card { background:var(--card); border-radius:var(--radius); padding:16px; width:260px; box-shadow:var(--shadow); border:1px solid var(--border); box-sizing:border-box; }
.scope-card h4 { margin:0 0 6px 0; font-size:15px; color:var(--text); font-weight:700; }
.scope-card p { margin:0; color:var(--muted); font-size:13px; line-height:1.45; }

/* main 2-column layout */
main.container { display:grid; grid-template-columns: 300px 1fr; gap:28px; align-items:start; padding-top:18px; }
.left { display:flex; flex-direction:column; gap:18px; transform: translateY(0); transition: transform 180ms ease; } /* NO negative lift */
.right { display:flex; flex-direction:column; gap:18px; }

/* side nav + upload */
.side-nav { background:var(--card); border-radius:var(--radius); padding:18px; box-shadow:var(--shadow); border:1px solid var(--border); }
.side-nav ul { list-style:none; margin:0; padding:0; display:flex; flex-direction:column; gap:6px; }
.upload-box { background:var(--card); border-radius:var(--radius); padding:18px; border:1px dashed rgba(15,23,42,0.03); box-shadow:var(--shadow); text-align:center; }
.upload-box input[type=file] { display:none; }
.drop-hint { color:var(--muted); margin-bottom:8px; font-size:14px; }
.file-name { color:var(--muted); font-size:13px; margin-top:6px; }

/* controls + buttons */
.controls { background:var(--card); border-radius:var(--radius); padding:14px; border:1px solid var(--border); box-shadow:var(--shadow); display:flex; flex-direction:column; gap:10px; }
.btn { display:inline-block; padding:8px 12px; border-radius:10px; border:1px solid rgba(15,23,42,0.06); background:#fff; color:var(--text); cursor:pointer; font-weight:700; }
.btn.small { padding:6px 10px; font-size:13px; }
.btn.primary { background:var(--accent); color:#fff; border:none; box-shadow:0 8px 24px rgba(37,99,235,0.12); }

/* metrics */
.metrics { display:flex; gap:var(--gap); align-items:stretch; flex-wrap:wrap; }
.metric { background:var(--card); border-radius:var(--radius); padding:20px; border:1px solid var(--border); box-shadow:var(--shadow); min-width:160px; display:flex; flex-direction:column; gap:8px; }
.mval { font-weight:800; font-size:22px; color:var(--text); }
.mlabel { font-size:13px; color:var(--muted); }

/* charts grid */
.charts-grid { display:grid; grid-template-columns: 1fr 420px; gap:18px; align-items:start; margin-top:6px; }
.card { background:var(--card); border-radius:var(--radius); padding:16px; border:1px solid var(--border); box-shadow:var(--shadow); }
.card .card-header h3 { margin:0; font-size:18px; }
.card-body { margin-top:12px; display:block; position:relative; overflow: visible; }

/* hotspot */
.hotspot-card .card-header { font-weight:700; color:var(--text); }
.hs-donut { width:140px; height:140px; border-radius:50%; background:conic-gradient(#2563eb 0 60%, #e6eef6 60%); display:flex; align-items:center; justify-content:center; }
.hs-donut-center { text-align:center; color:var(--text); }

/* small helpers */
.hidden { display:none !important; }

/* responsiveness */
@media (max-width:1200px) {
  .scope-card { width:220px; padding:14px; }
  .container { padding-left:20px; padding-right:20px; }
  .left { transform: translateY(0); }
}
@media (max-width:900px) {
  .topbar .container { flex-direction:column; align-items:stretch; gap:12px; }
  main.container { grid-template-columns: 1fr; padding-top:12px; }
  .left { order:0; transform: translateY(0); }
  .charts-grid { grid-template-columns: 1fr; }
}


:root{
  --bg:#f8fafc; --card:#ffffff; --muted:#6b7280; --accent:#2563eb;
  --shadow: 0 6px 20px rgba(15,23,42,0.04); --border:#eef2f7; --text:#0b1220;
  --radius:12px; --container-width:1400px; --gap:18px;
  font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
}

/* base + scroll (ensure normal scrolling) */
*{box-sizing:border-box}
html,body{min-height:100%;height:auto;margin:0;padding:0;background:var(--bg);color:var(--text);overflow:auto}
.container{width:100%;max-width:var(--container-width);margin:0 auto;padding:28px}

/* card */
.card{background:var(--card);border-radius:var(--radius);padding:16px;border:1px solid var(--border);box-shadow:var(--shadow)}

/* charts: cap canvas heights to stop runaway page height */
.card .card-body canvas,
.component-chart-wrap canvas,
#hotspotMiniChart,
#stageChart,
#scopeChart,
#componentChart {
  width:100% !important;
  height:260px !important;
  max-height:320px !important;
  display:block;
}

/* hotspot-list */
.hotspot-list{display:flex;flex-direction:column;gap:8px;padding-top:8px}
.hotspot-row{background:#fff;padding:10px;border-radius:10px;border:1px solid #eef2f7;box-shadow:0 6px 18px rgba(2,6,23,0.03)}
.hotspot-row:hover{box-shadow:0 10px 30px rgba(2,6,23,0.06);cursor:pointer}

/* suggestion list */
.suggestion-list{display:flex;flex-direction:column;gap:8px}
.suggestion-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:10px;border:1px solid #eef2f7;background:#fff;box-shadow:0 6px 18px rgba(2,6,23,0.03)}
.s-text{font-size:14px;color:#0f1724}
.s-est{font-size:13px;color:#6b7280}

/* hotspot card layout tweaks */
.card.hotspot-card .card-body{display:flex;flex-direction:column;gap:12px}
.hotspot-top{display:flex;gap:16px;align-items:flex-start}
.hs-donut{width:140px;height:140px;border-radius:50%;display:flex;align-items:center;justify-content:center;background:conic-gradient(#2563eb 0 60%, #e6eef6 60%)}
.hs-donut-center{font-weight:700}

/* keep component chart wrap reasonable */
.component-chart-wrap{display:block;max-width:480px}

/* small responsive */
@media(max-width:900px){
  .hotspot-top{flex-direction:column}
  .component-chart-wrap{width:100%}
}
